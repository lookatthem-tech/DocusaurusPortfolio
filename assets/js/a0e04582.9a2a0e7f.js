"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[52],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>u});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(a),h=r,u=m["".concat(l,".").concat(h)]||m[h]||d[h]||i;return a?n.createElement(u,o(o({ref:t},c),{},{components:a})):n.createElement(u,o({ref:t},c))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},3069:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const i={sidebar_position:4},o="Performing a new installation of CHC Server",s={unversionedId:"Hardware/Server Installation Guide/005CHCNewInstallations",id:"Hardware/Server Installation Guide/005CHCNewInstallations",title:"Performing a new installation of CHC Server",description:"After all of the prerequisites have been met, follow these steps to install the Prysm Customer Hosted Cloud - Application Server package:",source:"@site/docs/Hardware/Server Installation Guide/005CHCNewInstallations.md",sourceDirName:"Hardware/Server Installation Guide",slug:"/Hardware/Server Installation Guide/005CHCNewInstallations",permalink:"/docs/Hardware/Server Installation Guide/005CHCNewInstallations",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Hardware/Server Installation Guide/005CHCNewInstallations.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Upgrading from CHC\xa0Server version 2.2 or 2.3.1",permalink:"/docs/Hardware/Server Installation Guide/004CHCUpgradingFromPrevVers"},next:{title:"Configuring a new account",permalink:"/docs/Hardware/Server Installation Guide/006CHCConfigureNewAcct"}},l={},p=[],c={toc:p},m="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"performing-a-new-installation-of-chc-server"},"Performing a new installation of CHC Server"),(0,r.kt)("p",null,"After all of the prerequisites have been met, follow these steps to install the Prysm Customer Hosted Cloud - Application Server package:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Copy the ",(0,r.kt)("strong",{parentName:"p"},"Customer Hosted Cloud - Application Server Deployment Package")," and extract it to a location on the server. The location on the Application Server is not critical, because you will move the files later. The package must contain the following files and folders:"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"2.X","_","SettingsTemplate.xml"),(0,r.kt)("li",{parentName:"ol"},"Synthesis 2.X External Release Notes.pdf"),(0,r.kt)("li",{parentName:"ol"},"Prysm Application Suite 2.X"),(0,r.kt)("li",{parentName:"ol"},"SynthesisClientInstaller","_","2.X","_","All","_","Languages.msi"),(0,r.kt)("li",{parentName:"ol"},"SynthesisClientInstaller","_","2.X","_","Eng.msi"),(0,r.kt)("li",{parentName:"ol"},"SynthesisSettingsManager"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Right-click ",(0,r.kt)("strong",{parentName:"p"},"Prysm Application Suite 2.x")," and click ",(0,r.kt)("strong",{parentName:"p"},"Run as Administrator"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Accept the terms and proceed through the prompts.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"From the Prysm Setup dialog box, select the features that you want to install on this system."),(0,r.kt)("p",{parentName:"li"},"Only the SQL databases can be installed on other VM instances.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"In the Prysm Application Server section, select ",(0,r.kt)("strong",{parentName:"p"},"Settings"),"."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"From the IP address list, retain the default selection of ",(0,r.kt)("strong",{parentName:"li"},"All Unassigned")," unless you have specific IP addresses configured in your deployment."),(0,r.kt)("li",{parentName:"ol"},"For Host Name, enter the DNS value for PrysmMobile.{CustomerDomain.net}."),(0,r.kt)("li",{parentName:"ol"},"In the Port field, edit the port or retain the default value for Port 443. This is the port used to connect to the Prysm cloud."),(0,r.kt)("li",{parentName:"ol"},"In the Service User and Service Password fields, enter the user name and password that you want to use as the service owner.",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"This account should not expire because Prysm won't work if the account expires."),(0,r.kt)("li",{parentName:"ol"},"If the SQL server is located on the same machine, this account can be a local Windows account with Administrator privileges. If you are installing under a local Windows account, in the Service User field, enter MachineName\\Admin, where the MachineName is the name of your system."),(0,r.kt)("li",{parentName:"ol"},"If the SQL server is on a different server, an Active Directory account is recommended. If using Active Directory, the service user name and password must be part of the Administrators group on the PAS local server."))),(0,r.kt)("li",{parentName:"ol"},"In the Notification E-Mail field, enter an e-mail address where you want notification e-mails from the server to be sent."),(0,r.kt)("li",{parentName:"ol"},"From the E-Mail Server section, add the settings for your email server. If you leave the From Address blank, emails are sent with the default from address of ",(0,r.kt)("a",{parentName:"li",href:"mailto:no-reply@prysm.com"},"no-reply@prysm.com"),"."),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"OK"),".")))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"In the Prysm Database section, select ",(0,r.kt)("strong",{parentName:"li"},"Settings"),".\nThe database settings are displayed.",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"In the Database Server field, specify the name of the server where SQL Server is installed."),(0,r.kt)("li",{parentName:"ol"},"In the Database Name field, edit the name or retain the default database name, ",(0,r.kt)("strong",{parentName:"li"},"synthesislocal"),"."),(0,r.kt)("li",{parentName:"ol"},"Select a database connection method by retaining ",(0,r.kt)("strong",{parentName:"li"},"Trusted (Windows Authentication)")," or entering a user name and password to connect to the SQL server. Then click ",(0,r.kt)("strong",{parentName:"li"},"Test Connection")," to verify that you can make a successful database connection."),(0,r.kt)("li",{parentName:"ol"},"Leave the ",(0,r.kt)("strong",{parentName:"li"},"Create Backup")," check box selected to create a database backup.\nBy default, the backup is saved in the ",(0,r.kt)("strong",{parentName:"li"},"Program Files/Prysm/databasebackups")," folder."))),(0,r.kt)("li",{parentName:"ol"},"In the License Database section, select ",(0,r.kt)("strong",{parentName:"li"},"Settings"),".",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"In the Database Server field, specify the name of the server where SQL Server is installed."),(0,r.kt)("li",{parentName:"ol"},"In the Database Name field, edit the name or retain the default database name, which is ",(0,r.kt)("strong",{parentName:"li"},"licensing"),"."),(0,r.kt)("li",{parentName:"ol"},"Select a database connection method by retaining ",(0,r.kt)("strong",{parentName:"li"},"Trusted (Windows Authentication)"),", or entering a username and password to connect to the SQL server, and click ",(0,r.kt)("strong",{parentName:"li"},"Test Connection")," to verify that you can make a successful database connection.If you retain the Trusted (Windows Authentication) option, the current user account must have sysadmin permission on the SQL database server. If you enter a username and password for SQL Authentication, the database sign in must have sysadmin permission so that the databases are created."),(0,r.kt)("li",{parentName:"ol"},"Leave the ",(0,r.kt)("strong",{parentName:"li"},"Create Backup")," checkbox selected to create a database backup.\nBy default, the backup is saved in the Program Files/Prysm/databasebackups folder."))),(0,r.kt)("li",{parentName:"ol"},"In the Prysm Admin Server section, select ",(0,r.kt)("strong",{parentName:"li"},"Settings"),".",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"From the IP Address dropdown, verify the IP address for the network adapter or leave unassigned if using a VM."),(0,r.kt)("li",{parentName:"ol"},"Retain the default port setting of 4433."))),(0,r.kt)("li",{parentName:"ol"},"In the ",(0,r.kt)("strong",{parentName:"li"},"Installation Folder")," field, edit the installation folder to install the Prysm Application Suite in a different location.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Warning:")," If you install the Prysm Application Suite in another location, Prysm recommends selecting a top level folder. You may experience Windows filename length errors if you select a nested folder for the installation."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"If you are installing the Prysm Application Suite on more than one server, edit the Server Mappings to correctly configure the installation.",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Server Mappings"),"."),(0,r.kt)("li",{parentName:"ol"},"Edit the server mappings to match the DNS entries configured in section 2.3 then select ",(0,r.kt)("strong",{parentName:"li"},"OK"),"."))),(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"File")," then ",(0,r.kt)("strong",{parentName:"li"},"SSL Certificate Publisher."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Configure a Trusted Certificate.")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," The SSL Certificate Publisher updates certificates for the Prysm Application Server and Prysm Mobile applications. It does not update certificates for the Web Admin. For information, see Appendix D. Troubleshooting."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Install")," when ready to implement the Certificate.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Warning:")," If you do not use a certificate of authority, web browsers such as Safari and browsers on mobile devices may not be able to access the sites. On browsers that can access the sites, each time they visit they will be presented with a warning message and have to navigate through the prompts to proceed to the sites.\nPrysm recommends customers use a valid Certificate of Authority over the default Self Signed Certificate built into the package. Prysm is not a supplier of Certificates of Authority."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"File")," then ",(0,r.kt)("strong",{parentName:"li"},"Client Publisher."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"In the Cloud Url textbox, enter the ",(0,r.kt)("strong",{parentName:"li"},"Cloud Server")," mapping from section 2.3."),(0,r.kt)("li",{parentName:"ol"},"If you have already provided a trusted certificate, do ",(0,r.kt)("strong",{parentName:"li"},"NOT")," select the ",(0,r.kt)("strong",{parentName:"li"},"Self Signed Certificate")," checkbox."),(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Browse")," and then select the Prysm Application Suite Client Installer from the Customer Hosted Cloud - Application Server Deployment Package."))),(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Apply Changes")," to install.\nThe progress bar shows which component is being installed and the status of the process. A confirmation message is displayed when all components are successfully installed. If you experience installation errors, see Appendix D. Troubleshooting."),(0,r.kt)("li",{parentName:"ol"},"Copy the ReleaseNotes.pdf from the Customer Hosted Cloud - Application Server Deployment Package and paste them into the installation folder (by default, c:\\Program Files\\Prysm)."),(0,r.kt)("li",{parentName:"ol"},"Through IIS, verify that the Prysm Admin site (https://{Admin DNS entry from section 2.3}:4433:) has been installed and started. Select ",(0,r.kt)("strong",{parentName:"li"},"Br owse Website")," to verify that you can connect.")),(0,r.kt)("p",null,"There could be issues in production Customer Hosted Cloud deployments with Redis consuming too much disk space. Physical files are used to back up the Redis database, however since all information in the Redis database is also stored in SQL server, it is not necessary to create the redis backup files. To accomplish this, the redis config file needs to have the persistence-available setting set to NO. This disables the persistence of the redis database. By default the Redis physical files are stored in: C:\\Windows\\ServiceProfiles\\NetworkService\\AppData\\Local\\Redis"),(0,r.kt)("p",null,"To verify that the Prysm Application Suite works with Redis persistence off, the WPF client should be used with a server configured with Redis persistence turned off. The server should be rebooted to clear the Redis in-memory cache to simulate a server crash. After the server restarts, the WPF client should be used again to determine if the system still functions."),(0,r.kt)("p",null,"To edit the redis.windows.conf file, perform the following steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Navigate to the redis.windows.conf file."),(0,r.kt)("li",{parentName:"ol"},"Stop the Redis service.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Warning:")," When you stop Redis, all currently logged in participants will be logged out automatically. They will not be able to sign in again until Redis is restarted."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},'Go to the section "SNAPSHOTTING" and remove all settings.'),(0,r.kt)("li",{parentName:"ol"},'Go to the section "APPEND ONLY MODE" and remove all settings.'),(0,r.kt)("li",{parentName:"ol"},'Go to the section "LIMITS" and make the following settings changes:',(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"remove maxheap"),(0,r.kt)("li",{parentName:"ol"},'assign persistence-available to "no" (no quotes)'),(0,r.kt)("li",{parentName:"ol"},"assign maxmemory to desired max memory in bytes"))),(0,r.kt)("li",{parentName:"ol"},"Once the changes are made, restart the Redis service."),(0,r.kt)("li",{parentName:"ol"},"When Redis restarts all active sessions will be terminated.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Tip:")," It is important to assign the maxmemory since the maxheap setting isn't respected once persistence is removed. Unless Redis is installed on its own machine, other Prysm services could experience memory pressure since Redis will consume up to the available ram."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"To verify, log back into the Prysm Application Suite. If you are unable to sign in, the settings are not correct. If you are able to sign in, the settings have been edited.")),(0,r.kt)("p",null,"To see if the server is up and running, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open the Task Manager and make sure the following tasks are running: ",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Synthesis.Cloud"),(0,r.kt)("li",{parentName:"ol"},"Synthesis.LogService"),(0,r.kt)("li",{parentName:"ol"},"Synthesis.Transcode.Web"),(0,r.kt)("li",{parentName:"ol"},"Synthesis.UploadService"))),(0,r.kt)("li",{parentName:"ol"},"Open the Google Chrome web browser and navigate to http://localhost:3400/macroviewer/service."),(0,r.kt)("li",{parentName:"ol"},"A security warning from Google Chrome appears."),(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Advanced")," and then Proceed to Site."),(0,r.kt)("li",{parentName:"ol"},"In the browser navigation bar, enter the computer name to navigate to Prysm Mobile and verify that you can log in.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," Installation Logs can be found at this path:"),(0,r.kt)("p",null,"C:\\Users","[","USERNAME]\\AppData\\Local\\Temp"),(0,r.kt)("p",null,"The AppData folder is a hidden folder. Enable View Hidden Folders to view it."))}d.isMDXComponent=!0}}]);