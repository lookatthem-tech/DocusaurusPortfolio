"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[748],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),c=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(r),d=n,m=p["".concat(s,".").concat(d)]||p[d]||h[d]||i;return r?o.createElement(m,a(a({ref:t},u),{},{components:r})):o.createElement(m,a({ref:t},u))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:n,a[1]=l;for(var c=2;c<i;c++)a[c]=r[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}d.displayName="MDXCreateElement"},2707:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var o=r(7462),n=(r(7294),r(3905));const i={sidebar_position:11},a="Troubleshooting CHC",l={unversionedId:"Hardware/Server Installation Guide/012TroubleshootingCHC",id:"Hardware/Server Installation Guide/012TroubleshootingCHC",title:"Troubleshooting CHC",description:"The following sections provide information for troubleshooting while installing a CHC. Although Prysm has extensively tested the installation and upgrade process, we can't test all variables in every customer environment. If you experience an installation or upgrade issue not covered below, contact Prysm Support (support@prysm.com).",source:"@site/docs/Hardware/Server Installation Guide/012TroubleshootingCHC.md",sourceDirName:"Hardware/Server Installation Guide",slug:"/Hardware/Server Installation Guide/012TroubleshootingCHC",permalink:"/docs/Hardware/Server Installation Guide/012TroubleshootingCHC",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Hardware/Server Installation Guide/012TroubleshootingCHC.md",tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"Uninstalling a CHC server",permalink:"/docs/Hardware/Server Installation Guide/011UninstallingCHCServer"},next:{title:"Developer docs",permalink:"/docs/Developers/"}},s={},c=[{value:"Resolution",id:"resolution",level:4},{value:"Resolution",id:"resolution-1",level:4},{value:"Resolution",id:"resolution-2",level:4},{value:"Resolution",id:"resolution-3",level:4},{value:"Resolution",id:"resolution-4",level:4},{value:"Resolution",id:"resolution-5",level:4},{value:"Resolution",id:"resolution-6",level:4},{value:"Resolution",id:"resolution-7",level:4},{value:"Resolution",id:"resolution-8",level:4},{value:"Resolution",id:"resolution-9",level:4},{value:"Resolution",id:"resolution-10",level:4},{value:"Resolution",id:"resolution-11",level:4},{value:"Resolution",id:"resolution-12",level:4},{value:"Resolution",id:"resolution-13",level:4}],u={toc:c},p="wrapper";function h(e){let{components:t,...r}=e;return(0,n.kt)(p,(0,o.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"troubleshooting-chc"},"Troubleshooting CHC"),(0,n.kt)("p",null,"The following sections provide information for troubleshooting while installing a CHC. Although Prysm has extensively tested the installation and upgrade process, we can't test all variables in every customer environment. If you experience an installation or upgrade issue not covered below, contact Prysm Support (",(0,n.kt)("a",{parentName:"p",href:"mailto:support@prysm.com"},"support@prysm.com"),")."),(0,n.kt)("p",null,"If the server was renamed after Synthesis was installed, a Windows Service User account might not authenticate correctly."),(0,n.kt)("h4",{id:"resolution"},"Resolution"),(0,n.kt)("p",null,"When you sign in to the server, check the computer name. Also, in the Prysm installation wizard, check the host name that is displayed in the Settings for the Prysm Application Server section."),(0,n.kt)("p",null,"These names should be the same."),(0,n.kt)("p",null,"If they are not, you might want to rename your server. Follow these steps to rename:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"From the Start Screen, select ",(0,n.kt)("strong",{parentName:"li"},"Server Manager"),"."),(0,n.kt)("li",{parentName:"ol"},"Select ",(0,n.kt)("strong",{parentName:"li"},"Local Server"),"."),(0,n.kt)("li",{parentName:"ol"},"Click the current computer name.\nThe System Properties dialog box opens."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"Change")," and enter a new computer name.")),(0,n.kt)("p",null,"The server was renamed after IIS was installed, causing a name conflict between IIS and the server."),(0,n.kt)("h4",{id:"resolution-1"},"Resolution"),(0,n.kt)("p",null,"Rename the IIS server to the same name as the machine."),(0,n.kt)("p",null,"From IIS, right-click the server, click ",(0,n.kt)("strong",{parentName:"p"},"Rename"),", and enter the correct machine name."),(0,n.kt)("p",null,"You might receive an error that looks like this:"),(0,n.kt)("h4",{id:"resolution-2"},"Resolution"),(0,n.kt)("p",null,"Associate the Windows Service User account name with the Prysm Macro Service."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Open ",(0,n.kt)("strong",{parentName:"li"},"Services.")),(0,n.kt)("li",{parentName:"ol"},"Right-click the Prysm Macro Service and click ",(0,n.kt)("strong",{parentName:"li"},"Properties.")),(0,n.kt)("li",{parentName:"ol"},"From the ",(0,n.kt)("strong",{parentName:"li"},"Log On")," tab, enter the Windows Service User account information.")),(0,n.kt)("p",null,"The SSL Certificate Publisher, which is part of the installer, only updates SSL certificates for the Prysm Application Server and Prysm for web applications. Additional steps are required to update the SSL certificate for the Web Admin interface."),(0,n.kt)("h4",{id:"resolution-3"},"Resolution"),(0,n.kt)("p",null,"In IIS, follow these steps:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Right-click the ",(0,n.kt)("strong",{parentName:"li"},"Prysm Admin")," site."),(0,n.kt)("li",{parentName:"ol"},"Select ",(0,n.kt)("strong",{parentName:"li"},"Edit Bindings"),"."),(0,n.kt)("li",{parentName:"ol"},"In the SSL certificate section, select a certificate from the list or click ",(0,n.kt)("strong",{parentName:"li"},"Select")," to browse for a certificate.")),(0,n.kt)("h4",{id:"resolution-4"},"Resolution"),(0,n.kt)("p",null,"Check the SAN, which is mounted to the PAS server for available space, and add space if needed."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Note:")," Managing disk space on the SAN, which is mounted to the Prysm server instance, is a customer responsibility. Prysm does not monitor the disk utilization of the customer-provided SAN for available space or provide alerts when there is insufficient space for content served by the Prysm Application Server."),(0,n.kt)("h4",{id:"resolution-5"},"Resolution"),(0,n.kt)("p",null,"This could be caused by connectivity issues between the CHC server and the database server. To verify, use telnet to check connectivity of the CHC server to the database server."),(0,n.kt)("p",null,"Another cause could be that some needed services aren't started. To verify:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Open the Services MMC and check that the following services are running: "),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},"Prysm Macro Service"),(0,n.kt)("li",{parentName:"ol"},"Redis"),(0,n.kt)("li",{parentName:"ol"},"redis (ken)"),(0,n.kt)("li",{parentName:"ol"},"redis (refresh)"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Check that all Prysm micro services are started. In the CHC server, open a web browser and navigate to ",(0,n.kt)("strong",{parentName:"p"},"http://localhost:3400/macroviewer/service"),". If any services are not started, click Restart or open Services.msc and restart the Prysm Macro Service."))),(0,n.kt)("h4",{id:"resolution-6"},"Resolution"),(0,n.kt)("p",null,"Ensure that the password to the service account running the Prysm Macro Service is correct."),(0,n.kt)("h4",{id:"resolution-7"},"Resolution"),(0,n.kt)("p",null,"The Redis service requires enough free disk space as system memory. If the CHC server has 32 GB of memory, Redis will need 32 GB of available disk space for the Redis cache. Check that the CHC Server has the available disk space in the system partition."),(0,n.kt)("p",null,"Sometimes, when the CHC Server does not go through a graceful shutdown, the Redis cache might not get deleted and stale Redis cache files will consume disk space. To clear the stale cache files, stop all the Redis services, delete all the Redis cache files located in C:\\Windows\\ServiceProfiles\\NetworkService\\AppData\\Local\\Redis, start the Redis services, and restart the Prysm Macro Service."),(0,n.kt)("h4",{id:"resolution-8"},"Resolution"),(0,n.kt)("p",null,"On the Prysm for web sign in page, when you click the Sign In button, you might see the error message saying \"Please check your internet connection and refresh the page.\" This means you aren't using the Prysm for web URL that was configured during your CHC installation. To access Prysm for web, verify that you're using the URL that was entered in the configuration steps in the Server Mappings section of the installation guide."),(0,n.kt)("h4",{id:"resolution-9"},"Resolution"),(0,n.kt)("p",null,'If you see an error saying "Initialization Failed" when you click Synthesis.exe, decrypt the C:\\Synthesis\\Synthesis.exe.config file on the appliance and verify the following: '),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'CloudURI is set to add key="CloudURI" value="https://CHC',"_",'hostname.prysm.com/Cloud".'),(0,n.kt)("li",{parentName:"ul"},'MachineKey is set to add key="MachineKey" value="1234567890".'),(0,n.kt)("li",{parentName:"ul"},'AllowSelfSignedCert is set to add key="AllowSelfSignedCert" value="true".'),(0,n.kt)("li",{parentName:"ul"},"The appliance can resolve to the CHC hostname."),(0,n.kt)("li",{parentName:"ul"},"All the required ports are open."),(0,n.kt)("li",{parentName:"ul"},"All Prysm Microservices are started."),(0,n.kt)("li",{parentName:"ul"},"In the CHC server, open a web browser and navigate to http://localhost:3400/macroviewer/service. If any services are not started, click Restart or open Services.msc and restart the Prysm Macro Service.")),(0,n.kt)("h4",{id:"resolution-10"},"Resolution"),(0,n.kt)("p",null,"The remote logging hostname and port might not be available. In Prysm Web Admin, disable remote logging. Go to Settings  Settings Profiles  Edit Profile Settings  Server  Logging, and switch Enable Remote Logging to OFF."),(0,n.kt)("h4",{id:"resolution-11"},"Resolution"),(0,n.kt)("p",null,"The SMTP server information entered during installation might have changed or is incorrect."),(0,n.kt)("p",null,"Modify the SMTP information in the CloudService.exe file found here: ",(0,n.kt)("strong",{parentName:"p"},"C:\\Program Files\\Prysm\\MicroService\\CloudService\\CloudService.exe.config file")),(0,n.kt)("p",null,"Make the mailSettings section look like this:"),(0,n.kt)("p",null,'mailSettings\nsmtp from="',(0,n.kt)("a",{parentName:"p",href:"mailto:noreply@prysm.com"},"noreply@prysm.com"),'"\nnetwork defaultCredentials="false" host="smtp.mandrillapp.com"\npassword="password" port="587" userName="',(0,n.kt)("a",{parentName:"p",href:"mailto:SMTPUser@test.com"},"SMTPUser@test.com"),'"\nenableSsl="false"\n/smtp\n/mailSettings'),(0,n.kt)("h4",{id:"resolution-12"},"Resolution"),(0,n.kt)("p",null,"If your uploads folder is full, you might want to move the folder to a different drive. To manually change the location of your Uploads folder, follow these steps:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Stop the Prysm Macro Service and create backups of your config file before editing the config files."),(0,n.kt)("li",{parentName:"ol"},"Locate the following field, and replace c:\\Uploads with the directory path of the new location:\nadd key=\u201dOnPremStorageLocation\u201d value=\u201dc:\\Uploads\u201d /"),(0,n.kt)("li",{parentName:"ol"},"Repeat steps 1 and 2 for the following config files:\nC:\\Program Files\\Prysm\\MicroService\\CloudService\\CloudServices.exe.config\nC:\\Program Files\\Prysm\\MicroService\\ContentService\\ContentServices.exe.config\nC:\\Program Files\\Prysm\\MicroService\\TranscodeService\\TranscodeService.exe.config\nC:\\Program Files\\Prysm\\MicroService\\UploadService\\UploadService.exe.config"),(0,n.kt)("li",{parentName:"ol"},"Start the Prysm Macro Service.")),(0,n.kt)("p",null,"If you find that the Synthesis installer isn't available in Synthesis Manager but publishing the installer results in an \u201calready exists\u201d error, try the following resolution."),(0,n.kt)("h4",{id:"resolution-13"},"Resolution"),(0,n.kt)("p",null,"In the CHC Server, delete all the contents of C:\\Program Files\\Prysm\\Installs. Launch the CHC installer. Go to ",(0,n.kt)("a",{parentName:"p",href:"005CHCNewInstallations.htm"},"this section of the CHC installation")," guide to publish the installer."))}h.isMDXComponent=!0}}]);